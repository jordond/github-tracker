!function(){"use strict";angular.module("githubTracker",["angularMoment"])}(),function(){"use strict";function t(){return function(t){return t.replace("refs/heads/","")}}angular.module("githubTracker").filter("branch",t)}(),function(){"use strict";function t(t,e){function i(i,o){function s(t){return a(t.data)}function c(e){return t.error("XHR Failed for getActivity.\n"+angular.toJson(e.data,!0)),e.data.hasError=!0,e.data}return""===i?{hasError:!0,message:"No user was supplied"}:(r=o,e.get(n+i+"/events").then(s)["catch"](c))}function a(t){var e=0,i=0,a={},n={isLoaded:!0,events:[]};for(i=0;i<t.length;i++){if(!(r>e))return n;a=t[i],"PushEvent"===a.type&&(n.events.push(a),e++)}}var n="https://api.github.com/users/",r=2,o={};return o={apiHost:n,getActivity:i}}angular.module("githubTracker").factory("githubActivityService",t),t.$inject=["$log","$http"]}(),function(){"use strict";function t(){function t(t,e,i,a){function n(){return o().then(function(){t.debug("Activated github-tracker View")})}function r(){function i(){return o().then(function(){s.isRefreshing=!1,t.info("Git activity was refreshed")})}s.isRefreshing||(s.isRefreshing=!0,s.activity.isLoaded=!1,s.loadingMessage=a.message(),e(i,1e3*(s.refreshDelay||1)))}function o(){return i.getActivity(s.user,s.eventLimit||3).then(function(t){return s.activity=t,s.activity})}var s=this;s.activity={isLoaded:!1},s.refresh=r,s.loadingMessage=a.message(),n()}var e={restrict:"EA",scope:{user:"@",eventLimit:"@?",commitLimit:"@?",refreshDelay:"@?"},templateUrl:"github-tracker-directive.tpl.html",replace:!1,controller:t,controllerAs:"vm",bindToController:!0};return t.$inject=["$log","$timeout","githubActivityService","witty"],e}angular.module("githubTracker").directive("githubTracker",t)}(),function(){"use strict";function t(){function t(){return e[Math.floor(Math.random()*e.length)]}var e,i={};return e=["hold your breath, I dare you ;)","you're not in Kansas any more","it is still faster than you could grab it","the bits are flowing slowly today","jumping into the rabbit hole","I'm moving as fast as I can","pay no attention to the man behind the curtain and enjoy the elevator music","a few bits tried to escape, but we caught them","the server is powered by a lemon and two electrodes","checking the gravitational constant in your locale","we're testing your patience","follow the white rabbit","pulling Neo from the matrix","dialing the 8th chevron isn't easy you know","setting phasers to fun","doo doo doo, la la la, c'mon already...","I'm running out of witty loading messages","do you ever sometimes just wake up and wonder if you're actually mentally handicapped and everyone around you is just being nice? No? Just me?... Carry on","Hey look over there!","You might wanna go make a sandwich","I wonder if you know I intentionally slowed this process down... muahahahaha","I do believe in fairies! I do! I do!","Okay enough is enough, load already"],i={messages:e,message:t}}angular.module("githubTracker").factory("witty",t)}(),angular.module("githubTracker").run(["$templateCache",function(t){t.put("app/github-tracker-directive.tpl.html",'<div class="gt-card c-m-12"><div class="gt-card-content"><div class="gt-card-header"><h3>Latest Activity</h3><div class="btn btn-link pull-right refresh" ng-click="vm.refresh()"><i class="gt-refresh-icon" ng-class="{ \'gt-icon-spin\': vm.isRefreshing }"></i></div></div><div class="gt-card-loading" ng-hide="vm.activity.isLoaded"><i class="gt-loading-icon gt-icon-spin"></i><h4>{{ vm.loadingMessage }}</h4></div><div class="gt-card-info" ng-show="vm.activity.isLoaded" ng-hide="vm.activity.hasError"><div class="gt-row gt-card-event-title"><div class="c-m-4 c-s-6 c-xs-6"><h4>Repository</h4></div><div class="c-m-8 c-s-6 c-xs-6"><h4>Commits</h4></div></div><div class="gt-row gt-card-event" ng-repeat="event in vm.activity.events"><div class="c-m-4"><a href="http://github.com/{{ event.repo.name }}" target="_blank"><i class="gt-github-icon"></i> {{ event.repo.name }}</a><div am-time-ago="event.created_at"></div></div><div class="c-m-8"><p ng-repeat="commit in event.payload.commits | filter:{distinct: true} | limitTo:vm.commitLimit || 3"><a href="http://github.com/{{ event.repo.name }}/tree/{{ event.payload.ref | branch }}" target="_blank">{{ event.payload.ref | branch }}</a> &commat; <a href="http://github.com/{{ event.repo.name }}/commit/{{ commit.sha }}" target="_blank">{{ commit.sha | limitTo:10 }}</a><br>{{ commit.message }}</p></div></div></div><div class="gt-card-error" ng-show="vm.activity.hasError && !vm.isRefreshing"><h4>Whoops... Something went wrong.</h4><p>{{ vm.activity.message }}</p></div></div></div>')}]);